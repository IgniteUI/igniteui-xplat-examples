Ported from Angular product.ts